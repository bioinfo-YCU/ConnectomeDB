{
  "cells": [
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "---\n",
        "title: \"Pig \\u2013 *Sus scrofa* </span>\"\n",
        "execute:\n",
        "  echo: false\n",
        "format:\n",
        "  html:\n",
        "    table: false\n",
        "header-includes: <script src='../../js/keepDropdownMenuGold.js'></script>\n",
        "---\n",
        "\n",
        "***"
      ],
      "id": "d6d400f9"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "import sys\n",
        "import os\n",
        "import pandas as pd\n",
        "import warnings\n",
        "warnings.filterwarnings(\"ignore\", category=pd.errors.DtypeWarning)\n",
        "from itables import init_notebook_mode, show\n",
        "from IPython.display import display, Javascript\n",
        "import itables.options as opt\n",
        "project_root = os.path.abspath(os.path.join(os.getcwd(), \"../..\"))\n",
        "os.chdir(project_root)\n",
        "sys.path.append(os.path.abspath(\"src\"))\n",
        "from createDataTable_perSpecies import pig_gene_pair1\n",
        "\n",
        "\n",
        "# Function to update and display the table\n",
        "def update_table():\n",
        "    show(\n",
        "        pig_gene_pair1,\n",
        "        keys=True,\n",
        "        layout = {\"topEnd\":[\"paging\"]},\n",
        "        #layout={\"bottom\": \"searchBuilder\", \"title\": \"Advanced Search\"},\n",
        "        fixedColumns={\"start\": 1, \"end\": 0},\n",
        "        fixedHeader=True,  # Keep header fixed for alignment\n",
        "        column_filters=\"footer\", \n",
        "        scrollX=True,\n",
        "        classes=\"display nowrap cell-border compact\",\n",
        "        select=True,\n",
        "        selected_rows=[],\n",
        "        responsive=True,  # Enable responsive behavior\n",
        "        theme='grid',\n",
        "        search={\"regex\": True, \"caseInsensitive\": True, \"smart\": True},\n",
        "        lengthMenu=[ [10, 20, 50, 100, -1], [\"10\", \"20\", \"50\", \"100\", \"All\"] ],\n",
        "        buttons=[\n",
        "            \"pageLength\",  \n",
        "            {\"extend\": \"colvis\", \"text\": \"Display Columns\"},\n",
        "            {\"extend\": \"csvHtml5\", \"title\": \"Source\"},\n",
        "            {\"extend\": \"excelHtml5\", \"title\": \"Source\"},\n",
        "            {\"extend\": \"copyHtml5\", \"title\": \"Source\"},\n",
        "        ],\n",
        "        columnDefs=[\n",
        "            {\"className\": \"dt-center\", \"targets\": [15]}, \n",
        "            # {\"width\": \"100px\", \"targets\": \"_all\"},\n",
        "            {\"width\": \"275px\", \"targets\": [9,10]},\n",
        "            {\"targets\": list(range(-1, -6, -1))+ [7, 8,13,14], \"visible\": False} # Hide last n columns by default\n",
        "                        ],\n",
        "                style=\"1200px;margin:auto\",\n",
        "           #language={\n",
        "           # \"search\": \"Search Gene of Interest:\",\n",
        "           # \"searchPlaceholder\": \"e.g. ENSSSCG00000017204\",\n",
        "           # \"searchBuilder\": {\n",
        "           #     \"title\": \"Advanced Search <i>Multiple filtering, AND/OR condition</i>\" \n",
        "           # }\n",
        "        # }, \n",
        "        autoWidth=True,\n",
        "        maxBytes=0,  # So it does not downsample\n",
        "        initCode='''\n",
        "            $(document).on('draw.dt', function () {\n",
        "                $($.fn.dataTable.tables(true)).DataTable().columns.adjust();\n",
        "            });\n",
        "    '''\n",
        "    )\n",
        "      \n",
        "\n",
        "# Call the function to render the table\n",
        "update_table()"
      ],
      "id": "d02766e2",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "[**{{< fa mouse-pointer >}} Hint: Hover over the table for more details!**]{style=\"color:#DD571C\"}\n"
      ],
      "id": "b2236684"
    }
  ],
  "metadata": {
    "kernelspec": {
      "name": "python3",
      "language": "python",
      "display_name": "Python 3 (ipykernel)",
      "path": "/Users/sakuramaezono/miniconda3/envs/quarto_llm_env/share/jupyter/kernels/python3"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 5
}